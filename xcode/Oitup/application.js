/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};

/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {

/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;

/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};

/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);

/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;

/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}


/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;

/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;

/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";

/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nvar _downloader = __webpack_require__(1);\n\nvar _downloader2 = _interopRequireDefault(_downloader);\n\nvar _utils = __webpack_require__(3);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nApp.onLaunch = function (options) {\n  this.location = options.location;\n  this.location = this.location.substring(0, this.location.indexOf('application.js'));\n  return (0, _utils.downloadList)(null);\n};\n\nApp.onWillEnterForeground = function () {\n  if (navigationDocument.documents.length === 1) {\n    navigationDocument.clear();\n    return (0, _utils.downloadList)(null);\n  }\n};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguanM/OTU1MiJdLCJuYW1lcyI6WyJBcHAiLCJvbkxhdW5jaCIsIm9wdGlvbnMiLCJsb2NhdGlvbiIsInN1YnN0cmluZyIsImluZGV4T2YiLCJvbldpbGxFbnRlckZvcmVncm91bmQiLCJuYXZpZ2F0aW9uRG9jdW1lbnQiLCJkb2N1bWVudHMiLCJsZW5ndGgiLCJjbGVhciJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7OztBQUNBOzs7O0FBRUFBLElBQUlDLFFBQUosR0FBZSxVQUFTQyxPQUFULEVBQWtCO0FBQy9CLE9BQUtDLFFBQUwsR0FBZ0JELFFBQVFDLFFBQXhCO0FBQ0EsT0FBS0EsUUFBTCxHQUFnQixLQUFLQSxRQUFMLENBQWNDLFNBQWQsQ0FBd0IsQ0FBeEIsRUFBMkIsS0FBS0QsUUFBTCxDQUFjRSxPQUFkLENBQXNCLGdCQUF0QixDQUEzQixDQUFoQjtBQUNBLFNBQU8seUJBQWEsSUFBYixDQUFQO0FBQ0QsQ0FKRDs7QUFNQUwsSUFBSU0scUJBQUosR0FBNEIsWUFBVztBQUNyQyxNQUFJQyxtQkFBbUJDLFNBQW5CLENBQTZCQyxNQUE3QixLQUF3QyxDQUE1QyxFQUErQztBQUM3Q0YsdUJBQW1CRyxLQUFuQjtBQUNBLFdBQU8seUJBQWEsSUFBYixDQUFQO0FBQ0Q7QUFDRixDQUxEIiwiZmlsZSI6IjAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRG93bmxvYWRlciBmcm9tICcuL2Rvd25sb2FkZXInXG5pbXBvcnQgeyBkb3dubG9hZExpc3QgfSBmcm9tICcuL3V0aWxzJ1xuXG5BcHAub25MYXVuY2ggPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gIHRoaXMubG9jYXRpb24gPSBvcHRpb25zLmxvY2F0aW9uO1xuICB0aGlzLmxvY2F0aW9uID0gdGhpcy5sb2NhdGlvbi5zdWJzdHJpbmcoMCwgdGhpcy5sb2NhdGlvbi5pbmRleE9mKCdhcHBsaWNhdGlvbi5qcycpKTtcbiAgcmV0dXJuIGRvd25sb2FkTGlzdChudWxsKTtcbn07XG5cbkFwcC5vbldpbGxFbnRlckZvcmVncm91bmQgPSBmdW5jdGlvbigpIHtcbiAgaWYgKG5hdmlnYXRpb25Eb2N1bWVudC5kb2N1bWVudHMubGVuZ3RoID09PSAxKSB7XG4gICAgbmF2aWdhdGlvbkRvY3VtZW50LmNsZWFyKCk7XG4gICAgcmV0dXJuIGRvd25sb2FkTGlzdChudWxsKTtcbiAgfVxufTtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2luZGV4LmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 1 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _file = __webpack_require__(2);\n\nvar _file2 = _interopRequireDefault(_file);\n\nvar _templates = __webpack_require__(4);\n\nvar _utils = __webpack_require__(3);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Downloader = function () {\n  function Downloader() {\n    _classCallCheck(this, Downloader);\n  }\n\n  _createClass(Downloader, [{\n    key: 'urlFor',\n    value: function urlFor(path) {\n      var operator;\n      operator = path.indexOf('?') > -1 ? '&' : '?';\n      return this.baseURL + path + operator + 'oauth_token=' + this.accessToken;\n    }\n  }, {\n    key: 'urlForList',\n    value: function urlForList(parentId) {\n      var path;\n      path = '/files/list';\n      if (parentId) {\n        path += '?parent_id=' + parentId;\n      }\n      return this.urlFor(path);\n    }\n  }, {\n    key: 'urlForMovie',\n    value: function urlForMovie(fileId) {\n      return this.urlFor('/files/' + fileId + '/hls/media.m3u8?subtitle_key=all');\n    }\n  }, {\n    key: 'urlForSetStartFrom',\n    value: function urlForSetStartFrom(fileId) {\n      return this.urlFor('/files/' + fileId + '/start-from/set');\n    }\n  }, {\n    key: 'urlForMP4Status',\n    value: function urlForMP4Status(fileId) {\n      return this.urlFor('/files/' + fileId + '/mp4');\n    }\n  }, {\n    key: 'urlForMP4Convert',\n    value: function urlForMP4Convert(fileId) {\n      return this.urlForMP4Status(fileId);\n    }\n  }, {\n    key: 'download',\n    value: function download(url, callback, method) {\n      var downloadRequest;\n      if (method == null) {\n        method = 'GET';\n      }\n      console.log(\"Downloading: \" + url);\n      downloadRequest = new XMLHttpRequest();\n      downloadRequest.open(method, url);\n      downloadRequest.responseType = 'json';\n      downloadRequest.onload = function () {\n        var json;\n        json = JSON.parse(this.responseText);\n        return callback(json);\n      };\n      downloadRequest.onerror = function () {\n        var errorMessage, json;\n        console.log(\"Error: \" + this.responseText);\n        json = JSON.parse(this.responseText);\n        if (json.error === 'invalid_grant') {\n          return (0, _utils.login)();\n        } else {\n          errorMessage = \"Error code: \" + json.status_code + \", message: \" + json.error;\n          return navigationDocument.replaceDocument((0, _templates.errorTemplate)(errorMessage), navigationDocument.documents.slice(-1)[0]);\n        }\n      };\n      return downloadRequest.send();\n    }\n  }, {\n    key: 'downloadList',\n    value: function downloadList(parentId, callback) {\n      return this.download(this.urlForList(parentId), function (json) {\n        var files, parentName;\n        parentName = json.parent.name;\n        files = json.files.map(function (f) {\n          return new _file2.default(f);\n        });\n        return callback(parentName, files.filter(function (f) {\n          return f.isUsable();\n        }));\n      });\n    }\n  }, {\n    key: 'downloadMP4Status',\n    value: function downloadMP4Status(fileId, callback) {\n      return this.download(this.urlForMP4Status(fileId), function (json) {\n        return callback(json.mp4);\n      });\n    }\n  }, {\n    key: 'convertMP4',\n    value: function convertMP4(fileId) {\n      return this.download(this.urlForMP4Convert(fileId), function () {}, 'POST');\n    }\n  }, {\n    key: 'setStartFrom',\n    value: function setStartFrom(fileId, time) {\n      var request, url;\n      url = this.urlForSetStartFrom(fileId);\n      request = new XMLHttpRequest();\n      request.open('POST', url);\n      request.responseType = 'json';\n      return request.send('time=' + time);\n    }\n  }, {\n    key: 'baseURL',\n    get: function get() {\n      return 'https://api.put.io/v2';\n    }\n  }, {\n    key: 'accessToken',\n    get: function get() {\n      return localStorage.getItem('putioAccessToken');\n    }\n  }]);\n\n  return Downloader;\n}();\n\nexports.default = Downloader;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvZG93bmxvYWRlci5qcz9iZjY3Il0sIm5hbWVzIjpbIkRvd25sb2FkZXIiLCJwYXRoIiwib3BlcmF0b3IiLCJpbmRleE9mIiwiYmFzZVVSTCIsImFjY2Vzc1Rva2VuIiwicGFyZW50SWQiLCJ1cmxGb3IiLCJmaWxlSWQiLCJ1cmxGb3JNUDRTdGF0dXMiLCJ1cmwiLCJjYWxsYmFjayIsIm1ldGhvZCIsImRvd25sb2FkUmVxdWVzdCIsImNvbnNvbGUiLCJsb2ciLCJYTUxIdHRwUmVxdWVzdCIsIm9wZW4iLCJyZXNwb25zZVR5cGUiLCJvbmxvYWQiLCJqc29uIiwiSlNPTiIsInBhcnNlIiwicmVzcG9uc2VUZXh0Iiwib25lcnJvciIsImVycm9yTWVzc2FnZSIsImVycm9yIiwic3RhdHVzX2NvZGUiLCJuYXZpZ2F0aW9uRG9jdW1lbnQiLCJyZXBsYWNlRG9jdW1lbnQiLCJkb2N1bWVudHMiLCJzbGljZSIsInNlbmQiLCJkb3dubG9hZCIsInVybEZvckxpc3QiLCJmaWxlcyIsInBhcmVudE5hbWUiLCJwYXJlbnQiLCJuYW1lIiwibWFwIiwiZiIsImZpbHRlciIsImlzVXNhYmxlIiwibXA0IiwidXJsRm9yTVA0Q29udmVydCIsInRpbWUiLCJyZXF1ZXN0IiwidXJsRm9yU2V0U3RhcnRGcm9tIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTs7OztBQUNBOztBQUNBOzs7Ozs7SUFFTUEsVTs7Ozs7OzsyQkFTR0MsSSxFQUFNO0FBQ1gsVUFBSUMsUUFBSjtBQUNBQSxpQkFBV0QsS0FBS0UsT0FBTCxDQUFhLEdBQWIsSUFBb0IsQ0FBQyxDQUFyQixHQUF5QixHQUF6QixHQUErQixHQUExQztBQUNBLGFBQU8sS0FBS0MsT0FBTCxHQUFlSCxJQUFmLEdBQXNCQyxRQUF0QixHQUFpQyxjQUFqQyxHQUFrRCxLQUFLRyxXQUE5RDtBQUNEOzs7K0JBRVVDLFEsRUFBVTtBQUNuQixVQUFJTCxJQUFKO0FB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QkFFVW5DLE0sRUFBUTtBQUNqQixhQUFPLEtBQUt5QixRQUFMLENBQWMsS0FBS1csZ0JBQUwsQ0FBc0JwQyxNQUF0QixDQUFkLEVBQThDLFlBQVcsQ0FBRSxDQUEzRCxFQUE4RCxNQUE5RCxDQUFQO0FBQ0Q7OztpQ0FFWUEsTSxFQUFRcUMsSSxFQUFNO0FBQ3pCLFVBQUlDLE9BQUosRUFBYXBDLEdBQWI7QUFDQUEsWUFBTSxLQUFLcUMsa0JBQUwsQ0FBd0J2QyxNQUF4QixDQUFOO0FBQ0FzQyxnQkFBVSxJQUFJOUIsY0FBSixFQUFWO0FBQ0E4QixjQUFRN0IsSUFBUixDQUFhLE1BQWIsRUFBcUJQLEdBQXJCO0FBQ0FvQyxjQUFRNUIsWUFBUixHQUF1QixNQUF2QjtBQUNBLGFBQU80QixRQUFRZCxJQUFSLENBQWEsVUFBVWEsSUFBdkIsQ0FBUDtBQUNEOzs7d0JBakdhO0FBQ1gsYUFBTyx1QkFBUDtBQUNGOzs7d0JBRWlCO0FBQ2hCLGFBQU9HLGFBQWFDLE9BQWIsQ0FBcUIsa0JBQXJCLENBQVA7QUFDRDs7Ozs7O2tCQThGWWpELFUiLCJmaWxlIjoiMS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBGaWxlIGZyb20gJy4vZmlsZSdcbmltcG9ydCB7IGVycm9yVGVtcGxhdGUgfSBmcm9tICcuL3RlbXBsYXRlcydcbmltcG9ydCB7IGxvZ2luIH0gZnJvbSAnLi91dGlscydcblxuY2xhc3MgRG93bmxvYWRlciB7XG4gIGdldCBiYXNlVVJMKCkge1xuICAgICByZXR1cm4gJ2h0dHBzOi8vYXBpLnB1dC5pby92MidcbiAgfVxuXG4gIGdldCBhY2Nlc3NUb2tlbigpIHtcbiAgICByZXR1cm4gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3B1dGlvQWNjZXNzVG9rZW4nKVxuICB9XG5cbiAgdXJsRm9yKHBhdGgpIHtcbiAgICB2YXIgb3BlcmF0b3I7XG4gICAgb3BlcmF0b3IgPSBwYXRoLmluZGV4T2YoJz8nKSA+IC0xID8gJyYnIDogJz8nO1xuICAgIHJldHVybiB0aGlzLmJhc2VVUkwgKyBwYXRoICsgb3BlcmF0b3IgKyAnb2F1dGhfdG9rZW49JyArIHRoaXMuYWNjZXNzVG9rZW47XG4gIH07XG5cbiAgdXJsRm9yTGlzdChwYXJlbnRJZCkge1xuICAgIHZhciBwYXRoO1xuICAgIHBhdGggPSAnL2ZpbGVzL2xpc3QnO1xuICAgIGlmIChwYXJlbnRJZCkge1xuICAgICAgcGF0aCArPSAnP3BhcmVudF9pZD0nICsgcGFyZW50SWQ7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnVybEZvcihwYXRoKTtcbiAgfTtcblxuICB1cmxGb3JNb3ZpZShmaWxlSWQpIHtcbiAgICByZXR1cm4gdGhpcy51cmxGb3IoJy9maWxlcy8nICsgZmlsZUlkICsgJy9obHMvbWVkaWEubTN1OD9zdWJ0aXRsZV9rZXk9YWxsJyk7XG4gIH07XG5cbiAgdXJsRm9yU2V0U3RhcnRGcm9tKGZpbGVJZCkge1xuICAgIHJldHVybiB0aGlzLnVybEZvcignL2ZpbGVzLycgKyBmaWxlSWQgKyAnL3N0YXJ0LWZyb20vc2V0Jyk7XG4gIH07XG5cbiAgdXJsRm9yTVA0U3RhdHVzKGZpbGVJZCkge1xuICAgIHJldHVybiB0aGlzLnVybEZvcignL2ZpbGVzLycgKyBmaWxlSWQgKyAnL21wNCcpO1xuICB9O1xuXG4gIHVybEZvck1QNENvbnZlcnQoZmlsZUlkKSB7XG4gICAgcmV0dXJuIHRoaXMudXJsRm9yTVA0U3RhdHVzKGZpbGVJZCk7XG4gIH07XG5cbiAgZG93bmxvYWQodXJsLCBjYWxsYmFjaywgbWV0aG9kKSB7XG4gICAgdmFyIGRvd25sb2FkUmVxdWVzdDtcbiAgICBpZiAobWV0aG9kID09IG51bGwpIHtcbiAgICAgIG1ldGhvZCA9ICdHRVQnO1xuICAgIH1cbiAgICBjb25zb2xlLmxvZyhcIkRvd25sb2FkaW5nOiBcIiArIHVybCk7XG4gICAgZG93bmxvYWRSZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgZG93bmxvYWRSZXF1ZXN0Lm9wZW4obWV0aG9kLCB1cmwpO1xuICAgIGRvd25sb2FkUmVxdWVzdC5yZXNwb25zZVR5cGUgPSAnanNvbic7XG4gICAgZG93bmxvYWRSZXF1ZXN0Lm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGpzb247XG4gICAgICBqc29uID0gSlNPTi5wYXJzZSh0aGlzLnJlc3BvbnNlVGV4dCk7XG4gICAgICByZXR1cm4gY2FsbGJhY2soanNvbik7XG4gICAgfTtcbiAgICBkb3dubG9hZFJlcXVlc3Qub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGVycm9yTWVzc2FnZSwganNvbjtcbiAgICAgIGNvbnNvbGUubG9nKFwiRXJyb3I6IFwiICsgdGhpcy5yZXNwb25zZVRleHQpO1xuICAgICAganNvbiA9IEpTT04ucGFyc2UodGhpcy5yZXNwb25zZVRleHQpO1xuICAgICAgaWYgKGpzb24uZXJyb3IgPT09ICdpbnZhbGlkX2dyYW50Jykge1xuICAgICAgICByZXR1cm4gbG9naW4oKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVycm9yTWVzc2FnZSA9IFwiRXJyb3IgY29kZTogXCIgKyBqc29uLnN0YXR1c19jb2RlICsgXCIsIG1lc3NhZ2U6IFwiICsganNvbi5lcnJvcjtcbiAgICAgICAgcmV0dXJuIG5hdmlnYXRpb25Eb2N1bWVudC5yZXBsYWNlRG9jdW1lbnQoZXJyb3JUZW1wbGF0ZShlcnJvck1lc3NhZ2UpLCBuYXZpZ2F0aW9uRG9jdW1lbnQuZG9jdW1lbnRzLnNsaWNlKC0xKVswXSk7XG4gICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gZG93bmxvYWRSZXF1ZXN0LnNlbmQoKTtcbiAgfTtcblxuICBkb3dubG9hZExpc3QocGFyZW50SWQsIGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIHRoaXMuZG93bmxvYWQodGhpcy51cmxGb3JMaXN0KHBhcmVudElkKSwgZnVuY3Rpb24oanNvbikge1xuICAgICAgdmFyIGZpbGVzLCBwYXJlbnROYW1lO1xuICAgICAgcGFyZW50TmFtZSA9IGpzb24ucGFyZW50Lm5hbWU7XG4gICAgICBmaWxlcyA9IGpzb24uZmlsZXMubWFwKGZ1bmN0aW9uKGYpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBGaWxlKGYpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gY2FsbGJhY2socGFyZW50TmFtZSwgZmlsZXMuZmlsdGVyKGZ1bmN0aW9uKGYpIHtcbiAgICAgICAgcmV0dXJuIGYuaXNVc2FibGUoKTtcbiAgICAgIH0pKTtcbiAgICB9KTtcbiAgfTtcblxuICBkb3dubG9hZE1QNFN0YXR1cyhmaWxlSWQsIGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIHRoaXMuZG93bmxvYWQodGhpcy51cmxGb3JNUDRTdGF0dXMoZmlsZUlkKSwgZnVuY3Rpb24oanNvbikge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKGpzb24ubXA0KTtcbiAgICB9KTtcbiAgfTtcblxuICBjb252ZXJ0TVA0KGZpbGVJZCkge1xuICAgIHJldHVybiB0aGlzLmRvd25sb2FkKHRoaXMudXJsRm9yTVA0Q29udmVydChmaWxlSWQpLCAoZnVuY3Rpb24oKSB7fSksICdQT1NUJyk7XG4gIH07XG5cbiAgc2V0U3RhcnRGcm9tKGZpbGVJZCwgdGltZSkge1xuICAgIHZhciByZXF1ZXN0LCB1cmw7XG4gICAgdXJsID0gdGhpcy51cmxGb3JTZXRTdGFydEZyb20oZmlsZUlkKTtcbiAgICByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgcmVxdWVzdC5vcGVuKCdQT1NUJywgdXJsKTtcbiAgICByZXF1ZXN0LnJlc3BvbnNlVHlwZSA9ICdqc29uJztcbiAgICByZXR1cm4gcmVxdWVzdC5zZW5kKCd0aW1lPScgKyB0aW1lKTtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgRG93bmxvYWRlclxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvZG93bmxvYWRlci5qc1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 2 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _downloader = __webpack_require__(1);\n\nvar _downloader2 = _interopRequireDefault(_downloader);\n\nvar _templates = __webpack_require__(4);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar File = function () {\n  function File(object) {\n    _classCallCheck(this, File);\n\n    this.id = String(object.id);\n    this.constructor.files[this.id] = this;\n    this.name = object.name;\n    this.startFrom = object.start_from;\n    this.size = this.calculateSize(object.mp4_size || object.size);\n    this.isPlayable = object.is_mp4_available || object.content_type === 'video/mp4';\n    switch (object.file_type) {\n      case 'VIDEO':\n        this.fileType = 'movie';\n        this.icon = object.icon;\n        this.screenshot = object.screenshot;\n        break;\n      case 'FOLDER':\n        this.fileType = 'directory';\n        this.icon = App.location + 'folder_icon.png';\n        this.screenshot = App.location + 'folder_screenshot.png';\n        break;\n      default:\n        this.fileType = 'other';\n    }\n  }\n\n  _createClass(File, [{\n    key: 'isUsable',\n    value: function isUsable() {\n      return this.fileType !== 'other';\n    }\n  }, {\n    key: 'play',\n    value: function play() {\n      var loadingDocument, player, video;\n      if (this.isPlayable) {\n        video = new MediaItem('video', new _downloader2.default().urlForMovie(this.id));\n        video.title = this.name;\n        video.artworkImageURL = this.screenshot;\n        video.resumeTime = this.startFrom;\n        player = new Player();\n        player.playlist = new Playlist();\n        player.playlist.push(video);\n        player.addEventListener(\"timeDidChange\", function (_this) {\n          return function (event) {\n            return _this.updateStartFrom(event.time);\n          };\n        }(this), {\n          interval: 10\n        });\n        return player.play();\n      } else {\n        loadingDocument = (0, _templates.loadingTemplate)();\n        navigationDocument.pushDocument(loadingDocument);\n        return new _downloader2.default().downloadMP4Status(this.id, function (_this) {\n          return function (response) {\n            if (response.status === 'COMPLETED') {\n              _this.isPlayable = true;\n              navigationDocument.popDocument();\n              return _this.play();\n            } else {\n              if (response.status === 'NOT_AVAILABLE') {\n                new _downloader2.default().convertMP4(_this.id);\n              }\n              return navigationDocument.replaceDocument((0, _templates.convertingTemplate)(response.percent_done || 0), loadingDocument);\n            }\n          };\n        }(this));\n      }\n    }\n  }, {\n    key: 'updateStartFrom',\n    value: function updateStartFrom(time) {\n      this.startFrom = time;\n      return new _downloader2.default().setStartFrom(this.id, time);\n    }\n  }, {\n    key: 'calculateSize',\n    value: function calculateSize(size) {\n      var gb, kb, mb, tb;\n      kb = (size / 1024).toFixed(1);\n      mb = (kb / 1024).toFixed(1);\n      gb = (mb / 1024).toFixed(1);\n      tb = (gb / 1024).toFixed(1);\n      if (tb >= 1) {\n        return tb + \" TB\";\n      } else if (gb >= 1) {\n        return gb + \" GB\";\n      } else if (mb >= 1) {\n        return mb + \" MB\";\n      } else if (kb >= 1) {\n        return kb + \" kB\";\n      } else {\n        return size + \" bytes\";\n      }\n    }\n  }]);\n\n  return File;\n}();\n\nFile.files = {};\n\nexports.default = File;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvZmlsZS5qcz85ZjkwIl0sIm5hbWVzIjpbIkZpbGUiLCJvYmplY3QiLCJpZCIsIlN0cmluZyIsImNvbnN0cnVjdG9yIiwiZmlsZXMiLCJuYW1lIiwic3RhcnRGcm9tIiwic3RhcnRfZnJvbSIsInNpemUiLCJjYWxjdWxhdGVTaXplIiwibXA0X3NpemUiLCJpc1BsYXlhYmxlIiwiaXNfbXA0X2F2YWlsYWJsZSIsImNvbnRlbnRfdHlwZSIsImZpbGVfdHlwZSIsImZpbGVUeXBlIiwiaWNvbiIsInNjcmVlbnNob3QiLCJBcHAiLCJsb2NhdGlvbiIsImxvYWRpbmdEb2N1bWVudCIsInBsYXllciIsInZpZGVvIiwiTWVkaWFJdGVtIiwidXJsRm9yTW92aWUiLCJ0aXRsZSIsImFydHdvcmtJbWFnZVVSTCIsInJlc3VtZVRpbWUiLCJQbGF5ZXIiLCJwbGF5bGlzdCIsIlBsYXlsaXN0IiwicHVzaCIsImFkZEV2ZW50TGlzdGVuZXIiLCJfdGhpcyIsImV2ZW50IiwidXBkYXRlU3RhcnRGcm9tIiwidGltZSIsImludGVydmFsIiwicGxheSIsIm5hdmlnYXRpb25Eb2N1bWVudCIsInB1c2hEb2N1bWVudCIsImRvd25sb2FkTVA0U3RhdHVzIiwicmVzcG9uc2UiLCJzdGF0dXMiLCJwb3BEb2N1bWVudCIsImNvbnZlcnRNUDQiLCJyZXBsYWNlRG9jdW1lbnQiLCJwZXJjZW50X2RvbmUiLCJzZXRTdGFydEZyb20iLCJnYiIsImtiIiwibWIiLCJ0YiIsInRvRml4ZWQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7Ozs7QUFDQTs7Ozs7O0lBRU1BLEk7QUFDSixnQkFBWUMsTUFBWixFQUFvQjtBQUFBOztBQUNsQixTQUFLQyxFQUFMLEdBQVVDLE9BQU9GLE9BQU9DLEVBQWQsQ0FBVjtBQUNBLFNBQUtFLFdBQUwsQ0FBaUJDLEtBQWpCLENBQXVCLEtBQUtILEVBQTVCLElBQWtDLElBQWxDO0FBQ0EsU0FBS0ksSUFBTCxHQUFZTCxPQUFPSyxJQUFu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QyxDQUFQO0FBQ0Q7OztrQ0FFYTVCLEksRUFBTTtBQUNsQixVQUFJeUMsRUFBSixFQUFRQyxFQUFSLEVBQVlDLEVBQVosRUFBZ0JDLEVBQWhCO0FBQ0FGLFdBQUssQ0FBQzFDLE9BQU8sSUFBUixFQUFjNkMsT0FBZCxDQUFzQixDQUF0QixDQUFMO0FBQ0FGLFdBQUssQ0FBQ0QsS0FBSyxJQUFOLEVBQVlHLE9BQVosQ0FBb0IsQ0FBcEIsQ0FBTDtBQUNBSixXQUFLLENBQUNFLEtBQUssSUFBTixFQUFZRSxPQUFaLENBQW9CLENBQXBCLENBQUw7QUFDQUQsV0FBSyxDQUFDSCxLQUFLLElBQU4sRUFBWUksT0FBWixDQUFvQixDQUFwQixDQUFMO0FBQ0EsVUFBSUQsTUFBTSxDQUFWLEVBQWE7QUFDWCxlQUFPQSxLQUFLLEtBQVo7QUFDRCxPQUZELE1BRU8sSUFBSUgsTUFBTSxDQUFWLEVBQWE7QUFDbEIsZUFBT0EsS0FBSyxLQUFaO0FBQ0QsT0FGTSxNQUVBLElBQUlFLE1BQU0sQ0FBVixFQUFhO0FBQ2xCLGVBQU9BLEtBQUssS0FBWjtBQUNELE9BRk0sTUFFQSxJQUFJRCxNQUFNLENBQVYsRUFBYTtBQUNsQixlQUFPQSxLQUFLLEtBQVo7QUFDRCxPQUZNLE1BRUE7QUFDTCxlQUFPMUMsT0FBTyxRQUFkO0FBQ0Q7QUFDRjs7Ozs7O0FBR0hULEtBQUtLLEtBQUwsR0FBYSxFQUFiOztrQkFFZUwsSSIsImZpbGUiOiIyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IERvd25sb2FkZXIgZnJvbSAnLi9kb3dubG9hZGVyJ1xuaW1wb3J0IHsgY29udmVydGluZ1RlbXBsYXRlLCBsb2FkaW5nVGVtcGxhdGUgfSBmcm9tICcuL3RlbXBsYXRlcydcblxuY2xhc3MgRmlsZSB7XG4gIGNvbnN0cnVjdG9yKG9iamVjdCkge1xuICAgIHRoaXMuaWQgPSBTdHJpbmcob2JqZWN0LmlkKTtcbiAgICB0aGlzLmNvbnN0cnVjdG9yLmZpbGVzW3RoaXMuaWRdID0gdGhpcztcbiAgICB0aGlzLm5hbWUgPSBvYmplY3QubmFtZTtcbiAgICB0aGlzLnN0YXJ0RnJvbSA9IG9iamVjdC5zdGFydF9mcm9tO1xuICAgIHRoaXMuc2l6ZSA9IHRoaXMuY2FsY3VsYXRlU2l6ZShvYmplY3QubXA0X3NpemUgfHwgb2JqZWN0LnNpemUpO1xuICAgIHRoaXMuaXNQbGF5YWJsZSA9IG9iamVjdC5pc19tcDRfYXZhaWxhYmxlIHx8IG9iamVjdC5jb250ZW50X3R5cGUgPT09ICd2aWRlby9tcDQnO1xuICAgIHN3aXRjaCAob2JqZWN0LmZpbGVfdHlwZSkge1xuICAgICAgY2FzZSAnVklERU8nOlxuICAgICAgICB0aGlzLmZpbGVUeXBlID0gJ21vdmllJztcbiAgICAgICAgdGhpcy5pY29uID0gb2JqZWN0Lmljb247XG4gICAgICAgIHRoaXMuc2NyZWVuc2hvdCA9IG9iamVjdC5zY3JlZW5zaG90O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ0ZPTERFUic6XG4gICAgICAgIHRoaXMuZmlsZVR5cGUgPSAnZGlyZWN0b3J5JztcbiAgICAgICAgdGhpcy5pY29uID0gQXBwLmxvY2F0aW9uICsgJ2ZvbGRlcl9pY29uLnBuZyc7XG4gICAgICAgIHRoaXMuc2NyZWVuc2hvdCA9IEFwcC5sb2NhdGlvbiArICdmb2xkZXJfc2NyZWVuc2hvdC5wbmcnO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRoaXMuZmlsZVR5cGUgPSAnb3RoZXInO1xuICAgIH1cbiAgfVxuXG4gIGlzVXNhYmxlKCkge1xuICAgIHJldHVybiB0aGlzLmZpbGVUeXBlICE9PSAnb3RoZXInO1xuICB9O1xuXG4gIHBsYXkoKSB7XG4gICAgdmFyIGxvYWRpbmdEb2N1bWVudCwgcGxheWVyLCB2aWRlbztcbiAgICBpZiAodGhpcy5pc1BsYXlhYmxlKSB7XG4gICAgICB2aWRlbyA9IG5ldyBNZWRpYUl0ZW0oJ3ZpZGVvJywgbmV3IERvd25sb2FkZXIoKS51cmxGb3JNb3ZpZSh0aGlzLmlkKSk7XG4gICAgICB2aWRlby50aXRsZSA9IHRoaXMubmFtZTtcbiAgICAgIHZpZGVvLmFydHdvcmtJbWFnZVVSTCA9IHRoaXMuc2NyZWVuc2hvdDtcbiAgICAgIHZpZGVvLnJlc3VtZVRpbWUgPSB0aGlzLnN0YXJ0RnJvbTtcbiAgICAgIHBsYXllciA9IG5ldyBQbGF5ZXIoKTtcbiAgICAgIHBsYXllci5wbGF5bGlzdCA9IG5ldyBQbGF5bGlzdCgpO1xuICAgICAgcGxheWVyLnBsYXlsaXN0LnB1c2godmlkZW8pO1xuICAgICAgcGxheWVyLmFkZEV2ZW50TGlzdGVuZXIoXCJ0aW1lRGlkQ2hhbmdlXCIsICgoZnVuY3Rpb24oX3RoaXMpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzLnVwZGF0ZVN0YXJ0RnJvbShldmVudC50aW1lKTtcbiAgICAgICAgfTtcbiAgICAgIH0pKHRoaXMpKSwge1xuICAgICAgICBpbnRlcnZhbDogMTBcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHBsYXllci5wbGF5KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvYWRpbmdEb2N1bWVudCA9IGxvYWRpbmdUZW1wbGF0ZSgpO1xuICAgICAgbmF2aWdhdGlvbkRvY3VtZW50LnB1c2hEb2N1bWVudChsb2FkaW5nRG9jdW1lbnQpO1xuICAgICAgcmV0dXJuIG5ldyBEb3dubG9hZGVyKCkuZG93bmxvYWRNUDRTdGF0dXModGhpcy5pZCwgKGZ1bmN0aW9uKF90aGlzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09ICdDT01QTEVURUQnKSB7XG4gICAgICAgICAgICBfdGhpcy5pc1BsYXlhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgIG5hdmlnYXRpb25Eb2N1bWVudC5wb3BEb2N1bWVudCgpO1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLnBsYXkoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gJ05PVF9BVkFJTEFCTEUnKSB7XG4gICAgICAgICAgICAgIG5ldyBEb3dubG9hZGVyKCkuY29udmVydE1QNChfdGhpcy5pZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmF2aWdhdGlvbkRvY3VtZW50LnJlcGxhY2VEb2N1bWVudChjb252ZXJ0aW5nVGVtcGxhdGUocmVzcG9uc2UucGVyY2VudF9kb25lIHx8IDApLCBsb2FkaW5nRG9jdW1lbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0pKHRoaXMpKTtcbiAgICB9XG4gIH07XG5cbiAgdXBkYXRlU3RhcnRGcm9tKHRpbWUpIHtcbiAgICB0aGlzLnN0YXJ0RnJvbSA9IHRpbWU7XG4gICAgcmV0dXJuIG5ldyBEb3dubG9hZGVyKCkuc2V0U3RhcnRGcm9tKHRoaXMuaWQsIHRpbWUpO1xuICB9O1xuXG4gIGNhbGN1bGF0ZVNpemUoc2l6ZSkge1xuICAgIHZhciBnYiwga2IsIG1iLCB0YjtcbiAgICBrYiA9IChzaXplIC8gMTAyNCkudG9GaXhlZCgxKTtcbiAgICBtYiA9IChrYiAvIDEwMjQpLnRvRml4ZWQoMSk7XG4gICAgZ2IgPSAobWIgLyAxMDI0KS50b0ZpeGVkKDEpO1xuICAgIHRiID0gKGdiIC8gMTAyNCkudG9GaXhlZCgxKTtcbiAgICBpZiAodGIgPj0gMSkge1xuICAgICAgcmV0dXJuIHRiICsgXCIgVEJcIjtcbiAgICB9IGVsc2UgaWYgKGdiID49IDEpIHtcbiAgICAgIHJldHVybiBnYiArIFwiIEdCXCI7XG4gICAgfSBlbHNlIGlmIChtYiA+PSAxKSB7XG4gICAgICByZXR1cm4gbWIgKyBcIiBNQlwiO1xuICAgIH0gZWxzZSBpZiAoa2IgPj0gMSkge1xuICAgICAgcmV0dXJuIGtiICsgXCIga0JcIjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHNpemUgKyBcIiBieXRlc1wiO1xuICAgIH1cbiAgfTtcbn1cblxuRmlsZS5maWxlcyA9IHt9XG5cbmV4cG9ydCBkZWZhdWx0IEZpbGVcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2ZpbGUuanNcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9");

/***/ },
/* 3 */
/***/ function(module, exports, __webpack_require__) {

	eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.handleLogin = exports.login = exports.escapeHTML = exports.selectFile = exports.downloadList = undefined;\n\nvar _downloader = __webpack_require__(1);\n\nvar _downloader2 = _interopRequireDefault(_downloader);\n\nvar _file = __webpack_require__(2);\n\nvar _file2 = _interopRequireDefault(_file);\n\nvar _templates = __webpack_require__(4);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar downloadList = exports.downloadList = function downloadList(listId) {\n  var loadingDocument;\n  loadingDocument = (0, _templates.loadingTemplate)();\n  navigationDocument.pushDocument(loadingDocument);\n  return new _downloader2.default().downloadList(listId, function (header, files) {\n    var list;\n    list = (0, _templates.listTemplate)(header, files);\n    list.addEventListener(\"select\", selectFile);\n    list.addEventListener(\"play\", selectFile);\n    if (loadingDocument) {\n      return navigationDocument.replaceDocument(list, loadingDocument);\n    } else {\n      return navigationDocument.pushDocument(list);\n    }\n  });\n};\n\nvar selectFile = exports.selectFile = function selectFile(event) {\n  var file, fileId;\n  fileId = event.target.getAttribute('id');\n  file = _file2.default.files[fileId];\n  switch (file.fileType) {\n    case 'movie':\n      return file.play();\n    case 'directory':\n      return downloadList(file.id);\n  }\n};\n\nvar escapeHTML = exports.escapeHTML = function escapeHTML(string) {\n  return String(string).replace(/[\\\"&<>]/g, function (chr) {\n    return {\n      '\"': '&quot;',\n      '&': '&amp;',\n      '<': '&lt;',\n      '>': '&gt;'\n    }[chr];\n  });\n};\n\nvar login = exports.login = function login() {\n  var loginView, tokenField;\n  loginView = (0, _templates.loginTemplate)();\n  tokenField = loginView.getElementsByTagName('textField').item(0);\n  loginView.addEventListener(\"select\", function () {\n    return handleLogin(tokenField);\n  });\n  loginView.addEventListener(\"play\", function () {\n    return handleLogin(tokenField);\n  });\n  return navigationDocument.pushDocument(loginView);\n};\n\nvar handleLogin = exports.handleLogin = function handleLogin(tokenField) {\n  var token;\n  token = tokenField.getFeature('Keyboard').text;\n  localStorage.setItem('putioAccessToken', token);\n  navigationDocument.clear();\n  return downloadList(null);\n};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMuanM/MmZmOCJdLCJuYW1lcyI6WyJkb3dubG9hZExpc3QiLCJsaXN0SWQiLCJsb2FkaW5nRG9jdW1lbnQiLCJuYXZpZ2F0aW9uRG9jdW1lbnQiLCJwdXNoRG9jdW1lbnQiLCJoZWFkZXIiLCJmaWxlcyIsImxpc3QiLCJhZGRFdmVudExpc3RlbmVyIiwic2VsZWN0RmlsZSIsInJlcGxhY2VEb2N1bWVudCIsImV2ZW50IiwiZmlsZSIsImZpbGVJZCIsInRhcmdldCIsImdldEF0dHJpYnV0ZSIsImZpbGVUeXBlIiwicGxheSIsImlkIiwiZXNjYXBlSFRNTCIsInN0cmluZyIsIlN0cmluZyIsInJlcGxhY2UiLCJjaHIiLCJsb2dpbiIsImxvZ2luVmlldyIsInRva2VuRmllbGQiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsIml0ZW0iLCJoYW5kbGVMb2dpbiIsInRva2VuIiwiZ2V0RmVhdHVyZSIsInRleHQiLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwiY2xlYXIiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFFTyxJQUFNQSxzQ0FBZSxTQUFmQSxZQUFlLENBQVNDLE1BQVQsRUFBaUI7QUFDM0MsTUFBSUMsZUFBSjtBQUNBQSxvQkFBa0IsaUNBQWxCO0FBQ0FDLHFCQUFtQkMsWUFBbkIsQ0FBZ0NGLGVBQWhDO0FBQ0EsU0FBTywyQkFBaUJGLFlBQWpCLENBQThCQyxNQUE5QixFQUFzQyxVQUFTSSxNQUFULEVBQWlCQyxLQUFqQixFQUF3QjtBQUNuRSxRQUFJQyxJQUFKO0FBQ0FBLFdBQU8sNkJBQWFGLE1BQWIsRUFBcUJDLEtBQXJCLENBQVA7QUFDQUMsU0FBS0MsZ0JBQUwsQ0FBc0IsUUFBdEIsRUFBZ0NDLFVBQWhDO0FBQ0FGLFNBQUtDLGdCQUFMLENBQXNCLE1BQXRCLEVBQThCQyxVQUE5QjtBQUNBLFFBQUlQLGVBQUosRUFBcUI7QUFDbkIsYUFBT0MsbUJBQW1CTyxlQUFuQixDQUFtQ0gsSUFBbkMsRUFBeUNMLGVBQXpDLENBQVA7QUFDRCxLQUZELE1BRU87QUFDTCxhQUFPQyxtQkFBbUJDLFlBQW5CLENBQWdDRyxJQUFoQyxDQUFQO0FBQ0Q7QUFDRixHQVZNLENBQVA7QUFXRCxDQWZNOztBQWlCQSxJQUFNRSxrQ0FBYSxTQUFiQSxVQUFhLENBQVNFLEtBQVQsRUFBZ0I7QUFDeEMsTUFBSUMsSUFBSixFQUFVQyxNQUFWO0FBQ0FBLFdBQVNGLE1BQU1HLE1BQU4sQ0FBYUMsWUFBYixDQUEwQixJQUExQixDQUFUO0FBQ0FILFNBQU8sZUFBS04sS0FBTCxDQUFXTyxNQUFYLENBQVA7QUFDQSxVQUFRRCxLQUFLSSxRQUFiO0FBQ0UsU0FBSyxPQUFMO0FBQ0UsYUFBT0osS0FBS0ssSUFBTCxFQUFQO0FBQ0YsU0FBSyxXQUFMO0FBQ0UsYUFBT2pCLGFBQWFZLEtBQUtNLEVBQWxCLENBQVA7QUFKSjtBQU1ELENBVk07O0FBWUEsSUFBTUMsa0NBQWEsU0FBYkEsVUFBYSxDQUFTQyxNQUFULEVBQWlCO0FBQ3pDLFNBQU9DLE9BQU9ELE1BQVAsRUFBZUUsT0FBZixDQUF1QixVQUF2QixFQUFtQyxVQUFTQyxHQUFULEVBQWM7QUFDdEQsV0FBTztBQUNMLFdBQUssUUFEQTtBQUVMLFdBQUssT0FGQTtBQUdMLFdBQUssTUFIQTtBQUlMLFdBQUs7QUFKQSxNQUtMQSxHQUxLLENBQVA7QUFNRCxHQVBNLENBQVA7QUFRRCxDQVRNOztBQVdBLElBQU1DLHdCQUFRLFNBQVJBLEtBQVEsR0FBVztBQUM5QixNQUFJQyxTQUFKLEVBQWVDLFVBQWY7QUFDQUQsY0FBWSwrQkFBWjtBQUNBQyxlQUFhRCxVQUFVRSxvQkFBVixDQUErQixXQUEvQixFQUE0Q0MsSUFBNUMsQ0FBaUQsQ0FBakQsQ0FBYjtBQUNBSCxZQUFVakIsZ0JBQVYsQ0FBMkIsUUFBM0IsRUFBcUMsWUFBVztBQUM5QyxXQUFPcUIsWUFBWUgsVUFBWixDQUFQO0FBQ0QsR0FGRDtBQUdBRCxZQUFVakIsZ0JBQVYsQ0FBMkIsTUFBM0IsRUFBbUMsWUFBVztBQUM1QyxXQUFPcUIsWUFBWUgsVUFBWixDQUFQO0FBQ0QsR0FGRDtBQUdBLFNBQU92QixtQkFBbUJDLFlBQW5CLENBQWdDcUIsU0FBaEMsQ0FBUDtBQUNELENBWE07O0FBYUEsSUFBTUksb0NBQWMsU0FBZEEsV0FBYyxDQUFTSCxVQUFULEVBQXFCO0FBQzlDLE1BQUlJLEtBQUo7QUFDQUEsVUFBUUosV0FBV0ssVUFBWCxDQUFzQixVQUF0QixFQUFrQ0MsSUFBMUM7QUFDQUMsZUFBYUMsT0FBYixDQUFxQixrQkFBckIsRUFBeUNKLEtBQXpDO0FBQ0EzQixxQkFBbUJnQyxLQUFuQjtBQUNBLFNBQU9uQyxhQUFhLElBQWIsQ0FBUDtBQUNELENBTk0iLCJmaWxlIjoiMy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBEb3dubG9hZGVyIGZyb20gJy4vZG93bmxvYWRlcidcbmltcG9ydCBGaWxlIGZyb20gJy4vZmlsZSdcbmltcG9ydCB7IGxpc3RUZW1wbGF0ZSwgbG9hZGluZ1RlbXBsYXRlLCBsb2dpblRlbXBsYXRlIH0gZnJvbSAnLi90ZW1wbGF0ZXMnXG5cbmV4cG9ydCBjb25zdCBkb3dubG9hZExpc3QgPSBmdW5jdGlvbihsaXN0SWQpIHtcbiAgdmFyIGxvYWRpbmdEb2N1bWVudDtcbiAgbG9hZGluZ0RvY3VtZW50ID0gbG9hZGluZ1RlbXBsYXRlKCk7XG4gIG5hdmlnYXRpb25Eb2N1bWVudC5wdXNoRG9jdW1lbnQobG9hZGluZ0RvY3VtZW50KTtcbiAgcmV0dXJuIG5ldyBEb3dubG9hZGVyKCkuZG93bmxvYWRMaXN0KGxpc3RJZCwgZnVuY3Rpb24oaGVhZGVyLCBmaWxlcykge1xuICAgIHZhciBsaXN0O1xuICAgIGxpc3QgPSBsaXN0VGVtcGxhdGUoaGVhZGVyLCBmaWxlcyk7XG4gICAgbGlzdC5hZGRFdmVudExpc3RlbmVyKFwic2VsZWN0XCIsIHNlbGVjdEZpbGUpO1xuICAgIGxpc3QuYWRkRXZlbnRMaXN0ZW5lcihcInBsYXlcIiwgc2VsZWN0RmlsZSk7XG4gICAgaWYgKGxvYWRpbmdEb2N1bWVudCkge1xuICAgICAgcmV0dXJuIG5hdmlnYXRpb25Eb2N1bWVudC5yZXBsYWNlRG9jdW1lbnQobGlzdCwgbG9hZGluZ0RvY3VtZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG5hdmlnYXRpb25Eb2N1bWVudC5wdXNoRG9jdW1lbnQobGlzdCk7XG4gICAgfVxuICB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCBzZWxlY3RGaWxlID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgdmFyIGZpbGUsIGZpbGVJZDtcbiAgZmlsZUlkID0gZXZlbnQudGFyZ2V0LmdldEF0dHJpYnV0ZSgnaWQnKTtcbiAgZmlsZSA9IEZpbGUuZmlsZXNbZmlsZUlkXTtcbiAgc3dpdGNoIChmaWxlLmZpbGVUeXBlKSB7XG4gICAgY2FzZSAnbW92aWUnOlxuICAgICAgcmV0dXJuIGZpbGUucGxheSgpO1xuICAgIGNhc2UgJ2RpcmVjdG9yeSc6XG4gICAgICByZXR1cm4gZG93bmxvYWRMaXN0KGZpbGUuaWQpO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgZXNjYXBlSFRNTCA9IGZ1bmN0aW9uKHN0cmluZykge1xuICByZXR1cm4gU3RyaW5nKHN0cmluZykucmVwbGFjZSgvW1xcXCImPD5dL2csIGZ1bmN0aW9uKGNocikge1xuICAgIHJldHVybiB7XG4gICAgICAnXCInOiAnJnF1b3Q7JyxcbiAgICAgICcmJzogJyZhbXA7JyxcbiAgICAgICc8JzogJyZsdDsnLFxuICAgICAgJz4nOiAnJmd0OydcbiAgICB9W2Nocl07XG4gIH0pO1xufTtcblxuZXhwb3J0IGNvbnN0IGxvZ2luID0gZnVuY3Rpb24oKSB7XG4gIHZhciBsb2dpblZpZXcsIHRva2VuRmllbGQ7XG4gIGxvZ2luVmlldyA9IGxvZ2luVGVtcGxhdGUoKTtcbiAgdG9rZW5GaWVsZCA9IGxvZ2luVmlldy5nZXRFbGVtZW50c0J5VGFnTmFtZSgndGV4dEZpZWxkJykuaXRlbSgwKTtcbiAgbG9naW5WaWV3LmFkZEV2ZW50TGlzdGVuZXIoXCJzZWxlY3RcIiwgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGhhbmRsZUxvZ2luKHRva2VuRmllbGQpO1xuICB9KTtcbiAgbG9naW5WaWV3LmFkZEV2ZW50TGlzdGVuZXIoXCJwbGF5XCIsIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBoYW5kbGVMb2dpbih0b2tlbkZpZWxkKTtcbiAgfSk7XG4gIHJldHVybiBuYXZpZ2F0aW9uRG9jdW1lbnQucHVzaERvY3VtZW50KGxvZ2luVmlldyk7XG59O1xuXG5leHBvcnQgY29uc3QgaGFuZGxlTG9naW4gPSBmdW5jdGlvbih0b2tlbkZpZWxkKSB7XG4gIHZhciB0b2tlbjtcbiAgdG9rZW4gPSB0b2tlbkZpZWxkLmdldEZlYXR1cmUoJ0tleWJvYXJkJykudGV4dDtcbiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3B1dGlvQWNjZXNzVG9rZW4nLCB0b2tlbik7XG4gIG5hdmlnYXRpb25Eb2N1bWVudC5jbGVhcigpO1xuICByZXR1cm4gZG93bmxvYWRMaXN0KG51bGwpO1xufTtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL3V0aWxzLmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 4 */
/***/ function(module, exports) {

	eval("\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar alertTemplate = exports.alertTemplate = function alertTemplate(title, description) {\n  var template;\n  template = \"<?xml version='1.0' encoding='UTF-8' ?>\\n<document>\\n  <alertTemplate>\\n    <title>\" + title + \"</title>\\n    <description>\" + description + \"</description>\\n  </alertTemplate>\\n</document>\";\n  return new DOMParser().parseFromString(template, 'application/xml');\n};\n\nvar convertingTemplate = exports.convertingTemplate = function convertingTemplate(progress) {\n  var description, title;\n  if (progress == null) {\n    progress = 0;\n  }\n  title = \"We're converting this file to format playable on Apple TV\";\n  description = \"This can take some time - please return later. <br />Progress: \" + progress + \"%\";\n  return alertTemplate(title, description);\n};\n\nvar errorTemplate = exports.errorTemplate = function errorTemplate(description) {\n  return alertTemplate(escapeHTML(description), 'You can find help at https://github.com/imanel/oitup/issues');\n};\n\nvar listTemplate = exports.listTemplate = function listTemplate(title, files) {\n  var list, listFooter, listHeader;\n  listHeader = \"<?xml version='1.0' encoding='UTF-8' ?>\\n  <document>\\n  <head>\\n    <style>\\n      .description {\\n        tv-text-style: none;\\n        tv-text-max-lines: 7;\\n        font-size: 40;\\n        color: rgba(100, 100, 100);\\n      }\\n    </style>\\n  </head>\\n  <listTemplate>\\n    <list>\\n      <header>\\n        <title>\" + title + \"</title>\\n      </header>\\n      <section>\";\n  listFooter = \"      </section>\\n    </list>\\n  </listTemplate>\\n</document>\";\n  list = files.length > 0 ? files.map(function (file) {\n    return listItemTemplate(file);\n  }) : [emptyListItemTemplate()];\n  return new DOMParser().parseFromString(listHeader + list.join('') + listFooter, 'application/xml');\n};\n\nvar listItemTemplate = exports.listItemTemplate = function listItemTemplate(file) {\n  var itemFooter, itemHeader, itemRelated, result;\n  itemHeader = \"<listItemLockup id='\" + file.id + \"'>\\n  <title>\" + file.name + \"</title>\\n  <img src=\\\"\" + file.icon + \"\\\" width=\\\"60\\\" height=\\\"60\\\" />\";\n  itemRelated = file.fileType === 'movie' ? (result = \"<relatedContent>\\n  <lockup>\\n    <img src=\\\"\" + file.screenshot + \"\\\" />\\n    <description class=\\\"description\\\">\" + file.name + \"<br /><br />File Size: \" + file.size + \"</description>\\n  </lockup>\\n</relatedContent>\", !file.isPlayable ? result += '<decorationImage src=\"resource://button-more\" />' : void 0, result) : \"<decorationImage src=\\\"resource://chevron\\\" />\\n<relatedContent>\\n  <lockup>\\n    <img src=\\\"\" + file.screenshot + \"\\\" />\\n    <description class=\\\"description\\\">\" + file.name + \"</description>\\n  </lockup>\\n</relatedContent>\";\n  itemFooter = '</listItemLockup>';\n  return itemHeader + itemRelated + itemFooter;\n};\n\nvar emptyListItemTemplate = exports.emptyListItemTemplate = function emptyListItemTemplate() {\n  return \"<listItemLockup>\\n  <title>Folder is empty</title>\\n</listItemLockup>\";\n};\n\nvar loadingTemplate = exports.loadingTemplate = function loadingTemplate(title) {\n  var template;\n  if (title == null) {\n    title = 'Loading...';\n  }\n  template = \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" ?>\\n  <document>\\n    <loadingTemplate>\\n      <activityIndicator>\\n        <title>\" + title + \"</title>\\n      </activityIndicator>\\n    </loadingTemplate>\\n  </document>\";\n  return new DOMParser().parseFromString(template, \"application/xml\");\n};\n\nvar loginTemplate = exports.loginTemplate = function loginTemplate() {\n  var template;\n  template = \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" ?>\\n<document>\\n  <formTemplate>\\n    <banner>\\n      <title>Put.io Login</title>\\n      <description>In order to use Put.io you will need access token.<br />To obtain one please visit https://imanel.org/oitup and follow instructions visible on screen.</description>\\n    </banner>\\n    <textField>Access Token</textField>\\n    <footer>\\n      <button>\\n        <text>Login</text>\\n      </button>\\n    </footer>\\n  </formTemplate>\\n</document>\";\n  return new DOMParser().parseFromString(template, \"application/xml\");\n};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdGVtcGxhdGVzLmpzPzhiOTkiXSwibmFtZXMiOlsiYWxlcnRUZW1wbGF0ZSIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJ0ZW1wbGF0ZSIsIkRPTVBhcnNlciIsInBhcnNlRnJvbVN0cmluZyIsImNvbnZlcnRpbmdUZW1wbGF0ZSIsInByb2dyZXNzIiwiZXJyb3JUZW1wbGF0ZSIsImVzY2FwZUhUTUwiLCJsaXN0VGVtcGxhdGUiLCJmaWxlcyIsImxpc3QiLCJsaXN0Rm9vdGVyIiwibGlzdEhlYWRlciIsImxlbmd0aCIsIm1hcCIsImZpbGUiLCJsaXN0SXRlbVRlbXBsYXRlIiwiZW1wdHlMaXN0SXRlbVRlbXBsYXRlIiwiam9pbiIsIml0ZW1Gb290ZXIiLCJpdGVtSGVhZGVyIiwiaXRlbVJlbGF0ZWQiLCJyZXN1bHQiLCJpZCIsIm5hbWUiLCJpY29uIiwiZmlsZVR5cGUiLCJzY3JlZW5zaG90Iiwic2l6ZSIsImlzUGxheWFibGUiLCJsb2FkaW5nVGVtcGxhdGUiLCJsb2dpblRlbXBsYXRlIl0sIm1hcHBpbmdzIjoiOzs7OztBQUFPLElBQU1BLHdDQUFnQixTQUFoQkEsYUFBZ0IsQ0FBU0MsS0FBVCxFQUFnQkMsV0FBaEIsRUFBNkI7QUFDeEQsTUFBSUMsUUFBSjtBQUNBQSxhQUFXLHdGQUF3RkYsS0FBeEYsR0FBZ0csNkJBQWhHLEdBQWdJQyxXQUFoSSxHQUE4SSxpREFBeko7QUFDQSxTQUFPLElBQUlFLFNBQUosR0FBZ0JDLGVBQWhCLENBQWdDRixRQUFoQyxFQUEwQyxpQkFBMUMsQ0FBUDtBQUNELENBSk07O0FBTUEsSUFBTUcsa0RBQXFCLFNBQXJCQSxrQkFBcUIsQ0FBU0MsUUFBVCxFQUFtQjtBQUNuRCxNQUFJTCxXQUFKLEVBQWlCRCxLQUFqQjtBQUNBLE1BQUlNLFlBQVksSUFBaEIsRUFBc0I7QUFDcEJBLGVBQVcsQ0FBWDtBQUNEO0FBQ0ROLFVBQVEsMkRBQVI7QUFDQUMsZ0JBQWMsb0VBQW9FSyxRQUFwRSxHQUErRSxHQUE3RjtBQUNBLFNBQU9QLGNBQWNDLEtBQWQsRUFBcUJDLFdBQXJCLENBQVA7QUFDRCxDQVJNOztBQVVBLElBQU1NLHdDQUFnQixTQUFoQkEsYUFBZ0IsQ0FBU04sV0FBVCxFQUFzQjtBQUNqRCxTQUFPRixjQUFjUyxXQUFXUCxXQUFYLENBQWQsRUFBdUMsNkRBQXZDLENBQVA7QUFDRCxDQUZNOztBQUlBLElBQU1RLHNDQUFlLFNBQWZBLFlBQWUsQ0FBU1QsS0FBVCxFQUFnQlUsS0FBaEIsRUFBdUI7QUFDakQsTUFBSUMsSUFBSixFQUFVQyxVQUFWLEVBQXNCQyxVQUF0QjtBQUNBQSxlQUFhLGtVQUFrVWIsS0FBbFUsR0FBMFUsNENBQXZWO0FBQ0FZLGVBQWEsK0RBQWI7QUFDQUQsU0FBT0QsTUFBTUksTUFBTixHQUFlLENBQWYsR0FBbUJKLE1BQU1LLEdBQU4sQ0FBVSxVQUFTQyxJQUFULEVBQWU7QUFDakQsV0FBT0MsaUJBQWlCRCxJQUFqQixDQUFQO0FBQ0QsR0FGeUIsQ0FBbkIsR0FFRixDQUFDRSx1QkFBRCxDQUZMO0FBR0EsU0FBTyxJQUFJZixTQUFKLEdBQWdCQyxlQUFoQixDQUFnQ1MsYUFBYUYsS0FBS1EsSUFBTCxDQUFVLEVBQVYsQ0FBYixHQUE2QlAsVUFBN0QsRUFBeUUsaUJBQXpFLENBQVA7QUFDRCxDQVJNOztBQVVBLElBQU1LLDhDQUFtQixTQUFuQkEsZ0JBQW1CLENBQVNELElBQVQsRUFBZTtBQUM3QyxNQUFJSSxVQUFKLEVBQWdCQyxVQUFoQixFQUE0QkMsV0FBNUIsRUFBeUNDLE1BQXpDO0FBQ0FGLGVBQWEseUJBQXlCTCxLQUFLUSxFQUE5QixHQUFtQyxlQUFuQyxHQUFxRFIsS0FBS1MsSUFBMUQsR0FBaUUseUJBQWpFLEdBQTZGVCxLQUFLVSxJQUFsRyxHQUF5RyxrQ0FBdEg7QUFDQUosZ0JBQWNOLEtBQUtXLFFBQUwsS0FBa0IsT0FBbEIsSUFBNkJKLFNBQVMsa0RBQWtEUCxLQUFLWSxVQUF2RCxHQUFvRSxnREFBcEUsR0FBdUhaLEtBQUtTLElBQTVILEdBQW1JLHlCQUFuSSxHQUErSlQsS0FBS2EsSUFBcEssR0FBMkssZ0RBQXBMLEVBQXNPLENBQUNiLEtBQUtjLFVBQU4sR0FBbUJQLFVBQVUsa0RBQTdCLEdBQWtGLEtBQUssQ0FBN1QsRUFBZ1VBLE1BQTdWLElBQXVXLGtHQUFrR1AsS0FBS1ksVUFBdkcsR0FBb0gsZ0RBQXBILEdBQXVLWixLQUFLUyxJQUE1SyxHQUFtTCxnREFBeGlCO0FBQ0FMLGVBQWEsbUJBQWI7QUFDQSxTQUFPQyxhQUFhQyxXQUFiLEdBQTJCRixVQUFsQztBQUNELENBTk07O0FBUUEsSUFBTUYsd0RBQXdCLFNBQXhCQSxxQkFBd0IsR0FBVztBQUM5QyxTQUFPLHVFQUFQO0FBQ0QsQ0FGTTs7QUFJQSxJQUFNYSw0Q0FBa0IsU0FBbEJBLGVBQWtCLENBQVMvQixLQUFULEVBQWdCO0FBQzdDLE1BQUlFLFFBQUo7QUFDQSxNQUFJRixTQUFTLElBQWIsRUFBbUI7QUFDakJBLFlBQVEsWUFBUjtBQUNEO0FBQ0RFLGFBQVcsaUlBQWlJRixLQUFqSSxHQUF5SSw2RUFBcEo7QUFDQSxTQUFPLElBQUlHLFNBQUosR0FBZ0JDLGVBQWhCLENBQWdDRixRQUFoQyxFQUEwQyxpQkFBMUMsQ0FBUDtBQUNELENBUE07O0FBU0EsSUFBTThCLHdDQUFnQixTQUFoQkEsYUFBZ0IsR0FBVztBQUN0QyxNQUFJOUIsUUFBSjtBQUNBQSxhQUFXLHVlQUFYO0FBQ0EsU0FBTyxJQUFJQyxTQUFKLEdBQWdCQyxlQUFoQixDQUFnQ0YsUUFBaEMsRUFBMEMsaUJBQTFDLENBQVA7QUFDRCxDQUpNIiwiZmlsZSI6IjQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgYWxlcnRUZW1wbGF0ZSA9IGZ1bmN0aW9uKHRpdGxlLCBkZXNjcmlwdGlvbikge1xuICB2YXIgdGVtcGxhdGU7XG4gIHRlbXBsYXRlID0gXCI8P3htbCB2ZXJzaW9uPScxLjAnIGVuY29kaW5nPSdVVEYtOCcgPz5cXG48ZG9jdW1lbnQ+XFxuICA8YWxlcnRUZW1wbGF0ZT5cXG4gICAgPHRpdGxlPlwiICsgdGl0bGUgKyBcIjwvdGl0bGU+XFxuICAgIDxkZXNjcmlwdGlvbj5cIiArIGRlc2NyaXB0aW9uICsgXCI8L2Rlc2NyaXB0aW9uPlxcbiAgPC9hbGVydFRlbXBsYXRlPlxcbjwvZG9jdW1lbnQ+XCI7XG4gIHJldHVybiBuZXcgRE9NUGFyc2VyKCkucGFyc2VGcm9tU3RyaW5nKHRlbXBsYXRlLCAnYXBwbGljYXRpb24veG1sJyk7XG59O1xuXG5leHBvcnQgY29uc3QgY29udmVydGluZ1RlbXBsYXRlID0gZnVuY3Rpb24ocHJvZ3Jlc3MpIHtcbiAgdmFyIGRlc2NyaXB0aW9uLCB0aXRsZTtcbiAgaWYgKHByb2dyZXNzID09IG51bGwpIHtcbiAgICBwcm9ncmVzcyA9IDA7XG4gIH1cbiAgdGl0bGUgPSBcIldlJ3JlIGNvbnZlcnRpbmcgdGhpcyBmaWxlIHRvIGZvcm1hdCBwbGF5YWJsZSBvbiBBcHBsZSBUVlwiO1xuICBkZXNjcmlwdGlvbiA9IFwiVGhpcyBjYW4gdGFrZSBzb21lIHRpbWUgLSBwbGVhc2UgcmV0dXJuIGxhdGVyLiA8YnIgLz5Qcm9ncmVzczogXCIgKyBwcm9ncmVzcyArIFwiJVwiO1xuICByZXR1cm4gYWxlcnRUZW1wbGF0ZSh0aXRsZSwgZGVzY3JpcHRpb24pO1xufTtcblxuZXhwb3J0IGNvbnN0IGVycm9yVGVtcGxhdGUgPSBmdW5jdGlvbihkZXNjcmlwdGlvbikge1xuICByZXR1cm4gYWxlcnRUZW1wbGF0ZShlc2NhcGVIVE1MKGRlc2NyaXB0aW9uKSwgJ1lvdSBjYW4gZmluZCBoZWxwIGF0IGh0dHBzOi8vZ2l0aHViLmNvbS9pbWFuZWwvb2l0dXAvaXNzdWVzJyk7XG59O1xuXG5leHBvcnQgY29uc3QgbGlzdFRlbXBsYXRlID0gZnVuY3Rpb24odGl0bGUsIGZpbGVzKSB7XG4gIHZhciBsaXN0LCBsaXN0Rm9vdGVyLCBsaXN0SGVhZGVyO1xuICBsaXN0SGVhZGVyID0gXCI8P3htbCB2ZXJzaW9uPScxLjAnIGVuY29kaW5nPSdVVEYtOCcgPz5cXG4gIDxkb2N1bWVudD5cXG4gIDxoZWFkPlxcbiAgICA8c3R5bGU+XFxuICAgICAgLmRlc2NyaXB0aW9uIHtcXG4gICAgICAgIHR2LXRleHQtc3R5bGU6IG5vbmU7XFxuICAgICAgICB0di10ZXh0LW1heC1saW5lczogNztcXG4gICAgICAgIGZvbnQtc2l6ZTogNDA7XFxuICAgICAgICBjb2xvcjogcmdiYSgxMDAsIDEwMCwgMTAwKTtcXG4gICAgICB9XFxuICAgIDwvc3R5bGU+XFxuICA8L2hlYWQ+XFxuICA8bGlzdFRlbXBsYXRlPlxcbiAgICA8bGlzdD5cXG4gICAgICA8aGVhZGVyPlxcbiAgICAgICAgPHRpdGxlPlwiICsgdGl0bGUgKyBcIjwvdGl0bGU+XFxuICAgICAgPC9oZWFkZXI+XFxuICAgICAgPHNlY3Rpb24+XCI7XG4gIGxpc3RGb290ZXIgPSBcIiAgICAgIDwvc2VjdGlvbj5cXG4gICAgPC9saXN0PlxcbiAgPC9saXN0VGVtcGxhdGU+XFxuPC9kb2N1bWVudD5cIjtcbiAgbGlzdCA9IGZpbGVzLmxlbmd0aCA+IDAgPyBmaWxlcy5tYXAoZnVuY3Rpb24oZmlsZSkge1xuICAgIHJldHVybiBsaXN0SXRlbVRlbXBsYXRlKGZpbGUpO1xuICB9KSA6IFtlbXB0eUxpc3RJdGVtVGVtcGxhdGUoKV07XG4gIHJldHVybiBuZXcgRE9NUGFyc2VyKCkucGFyc2VGcm9tU3RyaW5nKGxpc3RIZWFkZXIgKyBsaXN0LmpvaW4oJycpICsgbGlzdEZvb3RlciwgJ2FwcGxpY2F0aW9uL3htbCcpO1xufTtcblxuZXhwb3J0IGNvbnN0IGxpc3RJdGVtVGVtcGxhdGUgPSBmdW5jdGlvbihmaWxlKSB7XG4gIHZhciBpdGVtRm9vdGVyLCBpdGVtSGVhZGVyLCBpdGVtUmVsYXRlZCwgcmVzdWx0O1xuICBpdGVtSGVhZGVyID0gXCI8bGlzdEl0ZW1Mb2NrdXAgaWQ9J1wiICsgZmlsZS5pZCArIFwiJz5cXG4gIDx0aXRsZT5cIiArIGZpbGUubmFtZSArIFwiPC90aXRsZT5cXG4gIDxpbWcgc3JjPVxcXCJcIiArIGZpbGUuaWNvbiArIFwiXFxcIiB3aWR0aD1cXFwiNjBcXFwiIGhlaWdodD1cXFwiNjBcXFwiIC8+XCI7XG4gIGl0ZW1SZWxhdGVkID0gZmlsZS5maWxlVHlwZSA9PT0gJ21vdmllJyA/IChyZXN1bHQgPSBcIjxyZWxhdGVkQ29udGVudD5cXG4gIDxsb2NrdXA+XFxuICAgIDxpbWcgc3JjPVxcXCJcIiArIGZpbGUuc2NyZWVuc2hvdCArIFwiXFxcIiAvPlxcbiAgICA8ZGVzY3JpcHRpb24gY2xhc3M9XFxcImRlc2NyaXB0aW9uXFxcIj5cIiArIGZpbGUubmFtZSArIFwiPGJyIC8+PGJyIC8+RmlsZSBTaXplOiBcIiArIGZpbGUuc2l6ZSArIFwiPC9kZXNjcmlwdGlvbj5cXG4gIDwvbG9ja3VwPlxcbjwvcmVsYXRlZENvbnRlbnQ+XCIsICFmaWxlLmlzUGxheWFibGUgPyByZXN1bHQgKz0gJzxkZWNvcmF0aW9uSW1hZ2Ugc3JjPVwicmVzb3VyY2U6Ly9idXR0b24tbW9yZVwiIC8+JyA6IHZvaWQgMCwgcmVzdWx0KSA6IFwiPGRlY29yYXRpb25JbWFnZSBzcmM9XFxcInJlc291cmNlOi8vY2hldnJvblxcXCIgLz5cXG48cmVsYXRlZENvbnRlbnQ+XFxuICA8bG9ja3VwPlxcbiAgICA8aW1nIHNyYz1cXFwiXCIgKyBmaWxlLnNjcmVlbnNob3QgKyBcIlxcXCIgLz5cXG4gICAgPGRlc2NyaXB0aW9uIGNsYXNzPVxcXCJkZXNjcmlwdGlvblxcXCI+XCIgKyBmaWxlLm5hbWUgKyBcIjwvZGVzY3JpcHRpb24+XFxuICA8L2xvY2t1cD5cXG48L3JlbGF0ZWRDb250ZW50PlwiO1xuICBpdGVtRm9vdGVyID0gJzwvbGlzdEl0ZW1Mb2NrdXA+JztcbiAgcmV0dXJuIGl0ZW1IZWFkZXIgKyBpdGVtUmVsYXRlZCArIGl0ZW1Gb290ZXI7XG59O1xuXG5leHBvcnQgY29uc3QgZW1wdHlMaXN0SXRlbVRlbXBsYXRlID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBcIjxsaXN0SXRlbUxvY2t1cD5cXG4gIDx0aXRsZT5Gb2xkZXIgaXMgZW1wdHk8L3RpdGxlPlxcbjwvbGlzdEl0ZW1Mb2NrdXA+XCI7XG59O1xuXG5leHBvcnQgY29uc3QgbG9hZGluZ1RlbXBsYXRlID0gZnVuY3Rpb24odGl0bGUpIHtcbiAgdmFyIHRlbXBsYXRlO1xuICBpZiAodGl0bGUgPT0gbnVsbCkge1xuICAgIHRpdGxlID0gJ0xvYWRpbmcuLi4nO1xuICB9XG4gIHRlbXBsYXRlID0gXCI8P3htbCB2ZXJzaW9uPVxcXCIxLjBcXFwiIGVuY29kaW5nPVxcXCJVVEYtOFxcXCIgPz5cXG4gIDxkb2N1bWVudD5cXG4gICAgPGxvYWRpbmdUZW1wbGF0ZT5cXG4gICAgICA8YWN0aXZpdHlJbmRpY2F0b3I+XFxuICAgICAgICA8dGl0bGU+XCIgKyB0aXRsZSArIFwiPC90aXRsZT5cXG4gICAgICA8L2FjdGl2aXR5SW5kaWNhdG9yPlxcbiAgICA8L2xvYWRpbmdUZW1wbGF0ZT5cXG4gIDwvZG9jdW1lbnQ+XCI7XG4gIHJldHVybiBuZXcgRE9NUGFyc2VyKCkucGFyc2VGcm9tU3RyaW5nKHRlbXBsYXRlLCBcImFwcGxpY2F0aW9uL3htbFwiKTtcbn07XG5cbmV4cG9ydCBjb25zdCBsb2dpblRlbXBsYXRlID0gZnVuY3Rpb24oKSB7XG4gIHZhciB0ZW1wbGF0ZTtcbiAgdGVtcGxhdGUgPSBcIjw/eG1sIHZlcnNpb249XFxcIjEuMFxcXCIgZW5jb2Rpbmc9XFxcIlVURi04XFxcIiA/Plxcbjxkb2N1bWVudD5cXG4gIDxmb3JtVGVtcGxhdGU+XFxuICAgIDxiYW5uZXI+XFxuICAgICAgPHRpdGxlPlB1dC5pbyBMb2dpbjwvdGl0bGU+XFxuICAgICAgPGRlc2NyaXB0aW9uPkluIG9yZGVyIHRvIHVzZSBQdXQuaW8geW91IHdpbGwgbmVlZCBhY2Nlc3MgdG9rZW4uPGJyIC8+VG8gb2J0YWluIG9uZSBwbGVhc2UgdmlzaXQgaHR0cHM6Ly9pbWFuZWwub3JnL29pdHVwIGFuZCBmb2xsb3cgaW5zdHJ1Y3Rpb25zIHZpc2libGUgb24gc2NyZWVuLjwvZGVzY3JpcHRpb24+XFxuICAgIDwvYmFubmVyPlxcbiAgICA8dGV4dEZpZWxkPkFjY2VzcyBUb2tlbjwvdGV4dEZpZWxkPlxcbiAgICA8Zm9vdGVyPlxcbiAgICAgIDxidXR0b24+XFxuICAgICAgICA8dGV4dD5Mb2dpbjwvdGV4dD5cXG4gICAgICA8L2J1dHRvbj5cXG4gICAgPC9mb290ZXI+XFxuICA8L2Zvcm1UZW1wbGF0ZT5cXG48L2RvY3VtZW50PlwiO1xuICByZXR1cm4gbmV3IERPTVBhcnNlcigpLnBhcnNlRnJvbVN0cmluZyh0ZW1wbGF0ZSwgXCJhcHBsaWNhdGlvbi94bWxcIik7XG59O1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvdGVtcGxhdGVzLmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ }
/******/ ]);